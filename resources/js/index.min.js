                                        //*****|| ISHAT NOOR MAHI || 2021*****//
 /* AUTHOR : ISHAT NOOR MAHI | GITHUB REPO: https://inmahi.github.io/portfolio/ */
   
   /*===== ISHAT NOOR MAHI =====*/
    /* responsive CSS FILE */
    /* fb====== https://www.facebook.com/ishat.noor.mahi/ */
    /* ig====== https://www.instagram.com/ishat_noor_mahi/ */
    /* tw=======https://twitter.com/ishatmahi */
    //PRELOADERS AND POPUP
    var getPopUp = document.getElementById("popup");
    var getDoneBtn = document.getElementById("done_btn");
    var getWebContent = document.getElementById("web_content");
        // getPloader = document.getElementById("loading");
    getWebContent.addEventListener("click", () => {
        (getPopUp.style.display = "none"), getWebContent.classList.remove("allwrap");
    });
    function runPreloader() {
            getWebContent.style.display = "block";
            setTimeout(() => {
                getPopUp.style.display = "block";
                getPopUp.style.display = "block";
                getWebContent.classList.add("allwrap");
            }, 6000);
    }
    //when user clicks DONE button
    getPopUp = document.getElementById("popup")
    getDoneBtn = document.getElementById("done_btn").addEventListener("click", () => {
        (getPopUp.style.display = "none"), getWebContent.classList.remove("allwrap");
    });
    //when user presses Enter or Esc
    document.body.addEventListener('keyup', function onEvent(e) {
        if (e.key === 'Enter'||e.key==='Escape') {
            (getPopUp.style.display = "none"), getWebContent.classList.remove("allwrap");
        }
    });

//JQuery
$(document).ready(function () {
    $(".track-2nd-section").waypoint(function (e) {
        "down" == e ? $("#get_nav").addClass("sticky") : $("#get_nav").removeClass("sticky");//show or hide sticky menu
                // When the user scrolls the page, execute this function 
                window.onscroll = function() {myFunction()};
        
                function myFunction() {
                  document.getElementById('myPContain').style.visibility="visible"
                  var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                  var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                  var scrolled = (winScroll / height) * 100;//get the percentage
                  document.getElementById("myBar").style.width = scrolled + "%"; //add % sign with the value

                }
    }),
    $(".owl-carousel").owlCarousel({ items: 1, loop: !0, autoplay: !0, autoplayHoverPause: !0, smartSpeed: 500});
});//jquery ends
//services
function openTab(evt, serviceName) {
  var i, tabcontent, tablinks;
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }
  document.getElementById(serviceName).style.display = "block";
  evt.currentTarget.className += " active";
}

// Get the element with id="defaultOpen" and click on it
document.getElementById("defaultOpen").click();
//menubar and mobile menu functionalities
var getmenuoverlay = document.getElementById("getMenuOverlay"),
    menu_bars = document.getElementById("mobileBars");
menu_bars.addEventListener("click", function () {
    (getmenuoverlay.style.display = "flex"), (getmenuoverlay.style.width = "100%");
});
var getMenuCloseBtn = document.getElementById("closeMenuBtn");
//closing manue while user click any item
function closeNave() {
    getmenuoverlay.style.display = "none";
}
///test
(function() {
    var services;
    var skillsLeft;
    var skillsRight;
    var windowHeight;
  
    function init() {
        services = document.querySelectorAll('.animateEliment');
        skillsLeft=document.querySelector('.skills_left')
      windowHeight = window.innerHeight;
    }
  
    function checkPosition() {
      for (var i = 0; i < services.length; i++) {
        var service = services[i];
        var positionFromTop = services[i].getBoundingClientRect().top;
        
  
        if (positionFromTop - windowHeight <= -20) {
          service.classList.add('animate__animated','animate__zoomIn');
          service.classList.remove('hidden');//does nothing
        }
      }
    }
  
    window.addEventListener('scroll', checkPosition);
    window.addEventListener('resize', init);
  
    init();
    checkPosition();
  })();
//skills

var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
    panel.style.maxHeight = null;
    } else {
    panel.style.maxHeight = panel.scrollHeight + "px";
    } 
});
}
//make the first accordion active
// acc[0].nextElementSibling.style.maxHeight="200px"

//to-top 
const toTop = document.querySelector(".to-top");
window.addEventListener("scroll", () => {
    window.pageYOffset > 100 ? toTop.classList.add("active") : toTop.classList.remove("active");//show the to-top btn if the user scrolls 100 in Y axis
});
   
    //DETECT STATUS and show SNACKBAR
window.addEventListener('load', function() {
    var status = document.getElementById("status");  
    function updateOnlineStatus(event) {
      var condition = navigator.onLine ? "online" : "offline";  //find status
    }
    window.addEventListener('online', ()=>{
      var x = document.getElementById("snackbar");
      condition="Back Online";
      status.innerHTML = condition;
      x.classList.add("show","online");
      x.style.backgroundColor="#1da350";
      setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);//show and hide snackbar after 3 sec
    });
    window.addEventListener('offline', ()=>{
      var x = document.getElementById("snackbar");
      condition="Currently Offline"
      status.innerHTML = condition;
      x.classList.add("show","offline");
      x.style.backgroundColor="#d9534f";
      setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);//show and hide snackbar after 3 sec
    });;
  });
  //stopt animation when user hovers on footer
  var footer=document.getElementById('mahi01Footer');
  var animatedElem=document.getElementById('aboutWeb');
  footer.addEventListener('mouseover',()=>{
    
  animatedElem.classList.remove('animate__animated')
    footer.addEventListener('mouseout',()=>{
      animatedElem.classList.add('animate__animated')
    })

  })

    